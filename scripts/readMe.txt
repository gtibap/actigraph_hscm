visual_mat_act.py
figures: day02_vm.png, day02_incl_thigh.png, day02_incl_chest.png

visual_mat_act_thigh.py
for the experiments with the pressure mattress and only one actigraph attached to a thigh.

pressure_selected_pixel.py
figures: day02_graph_p00.png, day02_graph_p01.png, day02_pressure_p00.png, day02_pressure_p01.png 

pressure_selected_pixel_thigh.py
same as the previous one but without annotations.

groups_activity_7.py
It plots actigraphy data (e.i. Vector Magnitude and inclinometers), a stems plot that shows spending times of motor activity and inactivity (two scales, two colors, in the same plot). Interactive mouse selection on the stems plot to generate the corresponding plot of the actigraphy data.

groups_activity_statistics.py (last updated: April 11, 2023)
It calculates total number of motor-activity units in bed (Inclinometer Off==True); to be part of a motor-activity unit each Vector Magnitude (VM) sample has to be greater than 3 counts; additionally, VM samples included in the same motor-activity unit have a time difference less than 10s to the nearest included sample.

rw_mattress_data.py
reads .csv files of the pressure mattress generated by Tactilus software and writes the data using numpy to facilitate data visualization with matplotlib. This process generates two files: one header (.csv) and one raw (.npz)).

plot_inclinometers_class.py
We define a Class called 'Actigraphy' to facilitate simultaneous visualization of chest and thigh collected actigraphy. Additionally, we represent inclinometers' information with stems. This script reads inclinometers information (off, lyi, sit, sta) and creates a DataFrame including columns with the following information: incl, id_ini, id_end, duration, night. It is worth to mention that among the inclinometers, only one at a time is active in a 1s epocs.

plot_vec_mag_class.py
Simultaneously, plotting of actigraphy chest and thigh per night; additionally, highlighthing activity regions following Vector Magnitude data and two conditions: Vector Magnitude greater than a 'min_value' and consecutive activity samples with a distance less than 'min_gap' are considered part of the same group of activity.

filter_inclinometers.py
Inclinometer Standing provides information of patient activity. In bed, however, signals of Inclinometer Standing are short in duration. The idea here is to translate the activity of Inclinometer Standing to the others inclinometers to make them smoother. I applyed this idea, extending the activity of any inclinometer (off, lyi, sit) with the inclinometer sta. It happens that only one at a time will be extended. The condition applied was that,
 if the end (idx_end) of any inclinometer is equal to the begining (idx_ini) of incl. sta, then
    the end (idx_end) of the activity of any inclinometer will be the end (idx_end) of the incl. sta.
The next step in this script (filter_inclinometers.py) filters the inclinometers off, lyi, and sit removing events of duration less than a threshold (300s for example [5min]). Iteratively, the filter adds those short periods to the previous activity with a larger duration.
   
visual_mat_act_thigh_2.py
last version for visualization interface pressure and actigraphy simultaneously.

read_filtered_data.py
Read and plot results of filter_inclinometers.py (.csv files). We can observe filtering results using different width_filter values, for each night, for chest and thigh of a particular patient's records.
Here also we count position changing and non-changing.


